<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <script src="jquery.min.js"></script>
  <title>Title</title>
</head>
<body>
  用户: <input type="text" id="user"><br>
  密码: <input type="password" id="pass"><br>
  <button type="button" id="reg">注册</button>
  <button type="button" id="login">登录</button>

  <script>
    $(function () {
      $('#reg').click(function () {
        $.ajax({
          url: '/reg',
          data: {
            username: $('#user').val(),
            password: $('#pass').val(),
          },
          dataType: 'json',
        }).then(json => {
          if(json.error) {
            alert(json.msg);
          } else {
            alert(json.msg);
          }
        });
      });
      $('#login').click(function () {
        $.ajax({
          url: '/login',
          data: {
            username: $('#user').val(),
            password: $('#pass').val(),
          },
          dataType: 'json',
        }).then(json => {
          if(json.error) {
            alert(json.msg);
          } else {
            alert(json.msg);
          }
        });
      });
    })
  </script>
</body>
</html>
